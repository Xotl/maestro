var config_yaml = require('config-yaml/config-yaml').get_config_yaml();
var http = require('http');
module.exports = {
  get_opt: function(opt, callback){
    var url = config_yaml.runtime.protocol + '://' + config_yaml.runtime.ip + ':' + config_yaml.runtime.port+ config_yaml.runtime.resource_uri + 'option/' + opt;
    var reqGet = http.get(url, function(res) {
      res.on('data', function (chunk) {
        chunk = JSON.parse(chunk)[0];
        callback(null, chunk);
      });
      
      res.on('error', function(e){
        console.log('Error get_opt:'+e.message);
        callback('Error get_blueprint_id:'+e.message, null);
      });
    });
    
    reqGet.end();
    reqGet.on('error', function (e) {
      console.log('Error closing the request get_opt:'+e.message);
      callback('Error closing the request get_opt:'+e.message, null);
    });
  }
}